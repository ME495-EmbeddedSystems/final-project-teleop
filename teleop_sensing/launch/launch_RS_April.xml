<launch>

    <!-- ros2 launch realsense2_camera rs_launch.py -->
    <include file="$(find-pkg-share realsense2_camera)/launch/rs_launch.py">
        <arg name = "camera_name" value="D435i" />
        <arg name="depth_module.profile" value="1280x720x30"/>
        <arg name="pointcloud.enable" value="true"/>
        <!-- gathers closest frames of different sensors, infra red, color and depth, to be sent with the same timetag -->
        <!-- might be useful for april tag nodes-->
        <arg name = "enable_sync" value="True" />
    </include>


    <!-- Custom version of image proc remap.-->
    <include file ="$(find-pkg-share teleop_sensing)/launch/image_proc_with_remap.launch.py">
    </include>

    <node pkg="apriltag_ros" exec="apriltag_node">
        <param from="$(find-pkg-share teleop_sensing)/config/tag16_config.yaml" />
        <remap from="/camera_info" to="/D435i/color/camera_info"/>
    </node>
    <!-- rviz will enable us to see the robot -->
    <node pkg="rviz2" exec="rviz2" args="-d $(find-pkg-share teleop_sensing)/config/see-frame.rviz"/>


</launch>