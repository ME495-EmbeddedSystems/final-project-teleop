<launch>
    <arg name="side" default="right" description="Choose which side to start the frankas: left, right, both. Defaults to right"/>
    <arg name="track" default="true" description="Choose if the hand tracking from the frankas should be sent"/>

    <node if="$(eval '\'$(var side)\' != \'left\'')" pkg='teleop_haptics' exec="force_feedback" namespace="right_hand"/>
    <node if="$(eval '\'$(var side)\' != \'right\'')" pkg='teleop_haptics' exec="force_feedback" namespace="left_hand"/>
    <include file="$(find-pkg-share franka_driver)/launch/anl_controller.launch.xml">
        <arg name="side" value="$(var side)"/>
    </include>
    <group if="$(eval '\'$(var track)\' == \'true\'')" >
        <node if="$(eval '\'$(var side)\' != \'left\'')" pkg='teleop_haptics' exec="hand_position" namespace="right_hand"/>
        <node if="$(eval '\'$(var side)\' != \'right\'')" pkg='teleop_haptics' exec="hand_position" namespace="left_hand"/> 
    </group>
</launch>